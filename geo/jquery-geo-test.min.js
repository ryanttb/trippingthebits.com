(function(e){function m(l){var d=[].slice.call(arguments,1),f=0;l=e.event.fix(l||window.event);l.type="mousewheel";if(l.wheelDelta)f=l.wheelDelta/120;if(l.detail)f=-l.detail/3;d.unshift(l,f);return e.event.handle.apply(this,d)}var n=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var l=n.length;l;)this.addEventListener(n[--l],m,false);else this.onmousewheel=m},teardown:function(){if(this.removeEventListener)for(var l=n.length;l;)this.removeEventListener(n[--l],
m,false);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(l){return l?this.bind("mousewheel",l):this.trigger("mousewheel")},unmousewheel:function(l){return this.unbind("mousewheel",l)}})})(jQuery);
(function(e,m){var n=Array.prototype.slice,l=e.cleanData;e.cleanData=function(d){for(var f=0,h;(h=d[f])!=null;f++)e(h).triggerHandler("remove");l(d)};e.widget=function(d,f,h){var j=d.split(".")[0],k;d=d.split(".")[1];k=j+"-"+d;if(!h){h=f;f=e.Widget}e.expr[":"][k]=function(p){return!!e.data(p,d)};e[j]=e[j]||{};e[j][d]=e.extend(function(p,t){if(!this._createWidget)return new e[j][d](p,t);arguments.length&&this._createWidget(p,t)},e[j][d]);var r=new f;r.options=e.extend(true,{},r.options);e.each(h,function(p,
t){if(e.isFunction(t))h[p]=function(){var x=function(w){return f.prototype[w].apply(this,n.call(arguments,1))},B=function(w,q){return f.prototype[w].apply(this,q)};return function(){var w=this._super,q=this._superApply,u;this._super=x;this._superApply=B;u=t.apply(this,arguments);this._super=w;this._superApply=q;return u}}()});e[j][d].prototype=e.extend(true,r,{namespace:j,widgetName:d,widgetEventPrefix:d,widgetBaseClass:k},h);e.widget.bridge(d,e[j][d])};e.widget.bridge=function(d,f){e.fn[d]=function(h){var j=
typeof h==="string",k=n.call(arguments,1),r=this;h=!j&&k.length?e.extend.apply(null,[true,h].concat(k)):h;j?this.each(function(){var p=e.data(this,d);if(!p)return e.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+h+"'");if(!e.isFunction(p[h])||h.charAt(0)==="_")return e.error("no such method '"+h+"' for "+d+" widget instance");var t=p[h].apply(p,k);if(t!==p&&t!==m){r=t;return false}}):this.each(function(){var p=e.data(this,d);p?p.option(h||{})._init():f(h,
this)});return r}};e.Widget=function(d,f){if(!this._createWidget)return new e[namespace][name](d,f);arguments.length&&this._createWidget(d,f)};e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false},_createWidget:function(d,f){f=e(f||this.defaultElement||this)[0];this.element=e(f);this.options=e.extend(true,{},this.options,this._getCreateOptions(),d);this.bindings=e();this.hoverable=e();this.focusable=e();if(f!==this){e.data(f,this.widgetName,this);
this._bind({remove:"destroy"})}this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(d,f){var h=d;if(arguments.length===0)return e.extend({},this.options);if(typeof d==="string"){if(f===m)return this.options[d];h={};h[d]=f}this._setOptions(h);return this},_setOptions:function(d){var f=this;e.each(d,function(h,j){f._setOption(h,j)});return this},_setOption:function(d,f){this.options[d]=f;if(d==="disabled"){this.widget().toggleClass(this.widgetBaseClass+"-disabled ui-state-disabled",
!!f).attr("aria-disabled",f);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_bind:function(d,f){if(f){d=e(d);this.bindings=this.bindings.add(d)}else{f=d;d=this.element}var h=this;e.each(f,function(j,k){d.bind(j+"."+h.widgetName,function(){if(!(h.options.disabled===true||e(this).hasClass("ui-state-disabled")))return(typeof k===
"string"?h[k]:k).apply(h,arguments)})})},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._bind(d,{mouseenter:function(f){e(f.currentTarget).addClass("ui-state-hover")},mouseleave:function(f){e(f.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._bind(d,{focusin:function(f){e(f.currentTarget).addClass("ui-state-focus")},focusout:function(f){e(f.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(d,f,h){var j=
this.options[d];f=e.Event(f);f.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();h=h||{};if(f.originalEvent){d=e.event.props.length;for(var k;d;){k=e.event.props[--d];f[k]=f.originalEvent[k]}}this.element.trigger(f,h);h=e.isArray(h)?[f].concat(h):[f,h];return!(e.isFunction(j)&&j.apply(this.element[0],h)===false||f.isDefaultPrevented())}}})(jQuery);
(function(e){e.geo={_center:function(m){return[(m[0]+m[2])/2,(m[1]+m[3])/2]},_expandBy:function(m,n,l){m=this._center(m);return[m[0]-n,m[1]-l,m[0]+n,m[1]+l]},_height:function(m){return m[3]-m[1]},_reaspect:function(m,n){var l=this._width(m),d=this._height(m);this._center(m);if(l==0||d==0||n<=0)return m;if(l/d>n){l=l/2;d=l/n}else{d=d/2;l=d*n}return[c[0]-l,c[1]-d,c[0]+l,c[1]+d]},_scaleBy:function(m,n){return this._expandBy(m,this._width(m)*n/2,this._height(m)*n/2)},_width:function(m){return m[2]-m[0]},
proj:function(){function m(d){return d>Math.PI?d-=n:d<-Math.PI?d+=n:d}var n=6.283185307179586;this.CoordinateSystem=function(d,f,h,j){if(arguments.length<2)f=0;if(arguments.length<3)h=0;if(arguments.length<4)j=1;switch(j){case "meters":j=1;break;case "feet":j=3.2808333333333333}this.toGeodetic=function(k){return d.toGeodetic({x:(k.x-f)/j,y:(k.y-h)/j})};this.toProjected=function(k){k=d.toProjected(k);return{x:k.x*j+f,y:k.y*j+h}}};this.Mercator=function(d,f,h){d*=0.017453292519943295;f*=0.017453292519943295;
var j=h.e*h.e,k=Math.sin(f),r=1/(Math.sqrt(1-j*k*k)/Math.cos(f));f=j*j;k=f*j;var p=k*j,t=j/2+5*f/24+k/12+13*p/360,x=7*f/48+29*k/240+811*p/11520,B=7*k/120+81*p/1120,w=4279*p/161280;this.toGeodetic=function(q){var u=m(d+q.x/(r*h.smaj));q=1.5707963267948966-2*Math.atan(1/Math.exp(q.y/(r*h.smaj)));return{x:u*57.29577951308232,y:(q+t*Math.sin(2*q)+x*Math.sin(4*q)+B*Math.sin(6*q)+w*Math.sin(8*q))*57.29577951308232}};this.toProjected=function(q){var u=q.y*0.017453292519943295,v=h.e*Math.sin(u);u=Math.tan(Math.PI/
4+u/2)*Math.pow((1-v)/(1+v),h.e/2);q=m(q.x*0.017453292519943295-d);return{x:r*h.smaj*q,y:r*h.smaj*Math.log(u)}}};this.Spheroid=function(d,f){switch(typeof d){case "number":this.smaj=d;this.e=f;break;case "string":switch(d){case "WGS84Sphere":this.smaj=6378137;this.e=0}}this.smin=this.smaj*Math.sqrt(1-this.e*this.e);var h=(this.smaj-this.smin)/this.smaj;this.distance=function(j,k,r){if(arguments.length<3)r=1;switch(r){case "meters":r=1;break;case "feet":r=3.2808333333333333}var p=j.y*0.017453292519943295,
t=k.y*0.017453292519943295,x=(p+t)*0.5,B=(p-t)*0.5,w=(j.x*0.017453292519943295-k.x*0.017453292519943295)*0.5;p=Math.sin(x);p*=p;x=Math.cos(x);x*=x;t=Math.sin(B);t*=t;B=Math.cos(B);B*=B;var q=Math.sin(w);q*=q;var u=Math.cos(w);u*=u;w=t*u+x*q;q=B*u+p*q;u=Math.atan(Math.sqrt(w/q));var v=Math.sqrt(w*q)/u;return 2*this.smaj*u*(1+h*((3*v-1)/(2*q)*p*B-(3*v+1)/(2*w)*x*t))*r}};var l=new Mercator(0,0,new Spheroid("WGS84Sphere"));return{fromGeodetic:function(d){for(var f=[],h=0,j;h<d.length;h++){j=l.toProjected({x:d[h][0],
y:d[h][1]});f[h]=[j.x,j.y]}return f},toGeodetic:function(d){for(var f=[],h=0,j;h<d.length;h++){j=l.toGeodetic({x:d[h][0],y:d[h][1]});f[h]=[j.x,j.y]}return f}}}()}})(jQuery,this);
(function(e,m){var n="center",l,d={},f,h,j,k,r,p,t,x,B,w,q,u,v,Y,Z,V,P,W,E,Q,fa=function(){for(var a=5,b=document.createElement("div"),g=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]--\>",g[0];);return a>6?a:!a}(),N,$=this._supportTouch||this._ieVersion==7,R,O,J={},o={},ha={bbox:[-180,-85,180,85],bboxMax:[-180,-85,180,85],center:[0,0],cursors:{pan:"move"},mode:"pan",services:[{id:"OSM",type:"tiled",getUrl:function(a){return"http://tile.openstreetmap.org/"+a.zoom+"/"+a.tile.column+"/"+
a.tile.row+".png"},attr:"&copy; OpenStreetMap &amp; contributors, CC-BY-SA",visible:true}],tilingScheme:{tileWidth:256,tileHeight:256,levels:18,basePixelSize:156543.03392799935,origin:[-2.0037508342787E7,2.0037508342787E7]},zoom:0,_serviceTypes:{tiled:{create:function(a,b,g){if(this[b.id]==null){this[b.id]={loadCount:0,reloadTiles:false,serviceContainer:null};a="<div data-service='"+b.id+"' style='position:absolute; left:0; top:0; width:8px; height:8px; margin:0; padding:0; display:"+(b.visible?"block":
"none")+";'></div>";g!=null?e(h.children()[g]).before(a):h.append(a);this[b.id].serviceContainer=h.children("[data-service='"+b.id+"']")}},destroy:function(a,b){this[b.id].serviceContainer.remove();delete this[b.id]},interactivePan:function(a,b,g,z){this._cancelUnloaded(a,b);this[b.id].serviceContainer.children().css({left:function(s,C){return parseInt(C)+g},top:function(s,C){return parseInt(C)+z}})},interactiveScale:function(){},refresh:function(a,b){if(b!=null&&this[b.id]!=null&&b.visible){this._cancelUnloaded(a,
b);var g=this[b.id],z=g.serviceContainer,s=r,C=a._getBbox(),D=a.options.tilingScheme,y=D.tileWidth,A=D.tileHeight,F=Math.floor((C[0]-D.origin[0])/(s*y)),S=Math.floor((D.origin[1]-C[3])/(s*A)),aa=Math.ceil((C[2]-D.origin[0])/(s*y)),ga=Math.ceil((D.origin[1]-C[1])/(s*A)),H=a._getBboxMax(),G=a._getTiledPixelSize(0),T=G/s,ba=Math.floor((H[0]-D.origin[0])/(G*y))*T,ca=Math.floor((D.origin[1]-H[3])/(G*A))*T,K=Math.round((D.origin[0]+ba*y*s-C[0])/s),L=Math.round((C[3]-(D.origin[1]-ca*A*s))/s);C=z.children().show();
H=C.filter("[data-pixelSize='"+s+"']").appendTo(z);var X=b.opacity==null?1:b.opacity;g.reloadTiles&&C.find("img").attr("data-dirty","true");if(H.size()===0){z.append("<div style='position:absolute; left:"+K%y+"px; top:"+L%A+"px; width:"+y+"px; height:"+A+"px; margin:0; padding:0;' data-pixelSize='"+s+"'></div>");H=z.children(":last").data("scaleOrigin",K%y+","+L%A)}else{H.css({left:K%y+"px",top:L%A+"px"}).data("scaleOrigin",K%y+","+L%A);H.children().each(function(){var M=e(this),da=M.attr("data-tile").split(",");
M.css({left:Math.round((parseInt(da[0])-ba)*100+(K-K%y)/y*100)+"%",top:Math.round((parseInt(da[1])-ca)*100+(L-L%A)/A*100)+"%"});X<1&&M.fadeTo(0,X)})}for(F=F;F<aa;F++)for(G=S;G<ga;G++){T=""+F+","+G;var I=H.children("[data-tile='"+T+"']");I.removeAttr("data-dirty");if(I.size()===0||g.reloadTiles){var U=[D.origin[0]+F*y*s,D.origin[1]-G*A*s],ea=[D.origin[0]+((F+1)*y-1)*s,D.origin[1]-((G+1)*A-1)*s];U=b.getUrl({bbox:[U[0],U[1],ea[0],ea[1]],width:y,height:A,zoom:a._getZoom(),tile:{row:G,column:F}});g.loadCount++;
if(g.reloadTiles&&I.size()>0)I.attr("src",U);else{I="<img style='position:absolute; left:"+((F-ba)*100+(K-K%y)/y*100)+"%; top:"+((G-ca)*100+(L-L%A)/A*100)+"%; ";if(e("body")[0].filters===m)I+="width: 100%; height: 100%;";I+="margin:0; padding:0; -moz-user-select:none; display:none;' unselectable='on' data-tile='"+T+"' />";H.append(I);I=H.children(":last");I.load(function(M){X<1?e(M.target).fadeTo(0,X):e(M.target).show();g.loadCount--;if(g.loadCount<=0){z.children(":not([data-pixelSize='"+s+"'])").remove();
g.loadCount=0}}).error(function(M){e(M.target).remove();g.loadCount--;if(g.loadCount<=0){z.children(":not([data-pixelSize='"+s+"'])").remove();g.loadCount=0}}).attr("src",U)}}}C.find("[data-dirty]").remove();g.reloadTiles=false}},_cancelUnloaded:function(a,b){var g=this[b.id],z=g.serviceContainer;if(g.loadCount>0)for(z.find("img:hidden").remove();g.loadCount>0;)g.loadCount--},_onOpacityChanged:function(){}}}};e.widget("geo.geomap",function(){return{options:e.extend({},ha),_createWidget:function(a,
b){J=a;l=e(b);var g=l.css("position");g!="relative"&&g!="absolute"&&g!="fixed"&&l.css("position","relative");l.css("text-align","left");g=this._findMapSize();d={x:parseInt(l.css("padding-left")),y:parseInt(l.css("padding-top")),width:g.width,height:g.height};this._createChildren();n=p=[0,0];r=t=156543.03392799935;x=B=w=q=W=R=O=false;u=v=V=P=E=[0,0];Q=[0.8,0.8];Y=Z=0;e.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){o=this.options;var a=(N="ontouchend"in document)?"touchstart":
"mousedown",b=N?"touchend touchcancel":"mouseup",g=N?"touchmove":"mousemove";k.dblclick(e.proxy(this._eventTarget_dblclick,this));k.bind(a,e.proxy(this._eventTarget_touchstart,this));a=k[0].setCapture?k:e(document);a.bind(g,e.proxy(this._dragTarget_touchmove,this));a.bind(b,e.proxy(this._dragTarget_touchstop,this));k.mousewheel(e.proxy(this._eventTarget_mousewheel,this));if(J){J.bbox&&this._setOption("bbox",J.bbox,false);J.center&&this._setOption("center",J.center,false);J.zoom&&this._setZoom(J.zoom,
false,false)}k.css("cursor",o.cursors[o.mode]);this._createServices();this._refresh()},_setOption:function(a,b,g){g=g===m||g;switch(a){case "bbox":if(e.geo.proj){b=e.geo.proj.fromGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}this._setBbox(b,false,g);b=this._getBbox();if(e.geo.proj){b=e.geo.proj.toGeodetic([[b[0],b[1]],[b[2],b[3]]]);b=[b[0][0],b[0][1],b[1][0],b[1][1]]}break;case "center":this._setCenterAndSize(e.geo.proj?e.geo.proj.fromGeodetic([[b[0],b[1]]])[0]:b,r,false,
g);break;case "zoom":this._setZoom(b,false,g)}e.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments);this.element.html("")},getPixelSize:function(){return r},_getBbox:function(){var a=d.width/2*r,b=d.height/2*r;return[n[0]-a,n[1]-b,n[0]+a,n[1]+b]},_setBbox:function(a,b,g){var z=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2];a=Math.max(e.geo._width(a)/d.width,e.geo._height(a)/d.height);if(o.tilingScheme)a=this._getTiledPixelSize(this._getTiledZoom(a));
this._setCenterAndSize(z,a,b,g)},_getBboxMax:function(){var a=d.width/2*t,b=d.height/2*t;return[p[0]-a,p[1]-b,p[0]+a,p[1]+b]},_getZoom:function(){if(o.tilingScheme)return this._getTiledZoom(r);else{var a=d.width/d.height,b=e.geo._reaspect(this._getBbox(),a);a=e.geo._reaspect(this._getBboxMax(),a);return Math.log(e.geo._width(a)/e.geo._width(b))/Math.log(2)}},_setZoom:function(a,b,g){a=Math.max(a,0);if(o.tilingScheme)this._setCenterAndSize(n,this._getTiledPixelSize(a),b,g);else{a=e.geo._scaleBy(this._getBbox(),
1/Math.pow(2,a));a=Math.max(e.geo._width(a)/d.width,e.geo._height(a)/d.height);this._setCenterAndSize(n,a,b,g)}},_createChildren:function(){var a=l.children().detach();a.css("-moz-user-select","none");l.prepend("<div style='position:absolute; left:"+d.x+"px; top:"+d.y+"px; width:"+d.width+"px; height:"+d.height+"px; margin:0; padding:0; overflow:hidden; -khtml-user-select:none; -moz-user-select:none; -webkit-user-select:none; user-select:none;' unselectable='on'></div>");k=f=l.children(":first");
f.append('<div style="position:absolute; left:0; top:0; width:'+d.width+"px; height:"+d.height+'px; margin: 0; padding: 0;"></div>');h=f.children(":last");f.append('<div style="position:absolute; left:0; top:0; width:'+d.width+"px; height:"+d.height+'px; margin: 0; padding: 0;"></div>');f.children(":last");f.append('<div class="ui-widget ui-widget-content ui-corner-all" style="position:absolute; left:0; top:0px; max-width:128px; display:none;"><div style="margin:.2em;"></div></div>');j=f.children(":last");
j.children();f.append(a)},_createServices:function(){for(var a=0;a<o.services.length;a++)o._serviceTypes[o.services[a].type].create(this,o.services[a])},_findMapSize:function(){for(var a={width:0,height:0},b=l;b.size()&&!(a.width>0&&a.height>0);){a={width:b.width(),height:b.height()};if(a.width<=0||a.height<=0)a={width:parseInt(b.css("width")),height:parseInt(b.css("height"))};b=b.parent()}return a},_getTiledPixelSize:function(a){var b=o.tilingScheme;if(b!=null){if(a===0)return b.pixelSizes!=null?
b.pixelSizes[0]:b.basePixelSize;a=Math.round(a);a=Math.max(a,0);a=Math.min(a,(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1);return b.pixelSizes!=null?b.pixelSizes[a]:b.basePixelSize/Math.pow(2,a)}else return NaN},_getTiledZoom:function(a){var b=o.tilingScheme;if(b.pixelSizes!=null){a=Math.round(a);for(var g=(b.pixelSizes!=null?b.pixelSizes.length:b.levels)-1;g>=0;g--)if(Math.round(b.pixelSizes[g])>=a)return g;return 0}else return Math.max(Math.round(Math.log(b.basePixelSize/a)/Math.log(2)),
0)},_panEnd:function(){E=[E[0]>0?Math.floor(E[0]*Q[0]):Math.ceil(E[0]*Q[0]),E[1]>0?Math.floor(E[1]*Q[1]):Math.ceil(E[1]*Q[1])];if(Math.abs(E[0])<4&&Math.abs(E[1])<4)this._panFinalize();else{v=[v[0]+E[0],v[1]+E[1]];this._panMove();setTimeout(e.proxy(this._panEnd,this),30)}},_panFinalize:function(){if(W){E=[0,0];this._setCenterAndSize([n[0]+-(v[0]-u[0])*r,n[1]+(v[1]-u[1])*r],r,true,true);B=false;u=v;w=W=false;k.css("cursor",o.cursors[o.mode])}},_panMove:function(){var a=v[0]-P[0],b=v[1]-P[1];if(w||
a>3||a<-3||b>3||b<-3){if(!w){w=true;k.css("cursor",o.cursors.pan)}if(x)E=[a,b];if(a!=0||b!=0){W=true;P=v;for(i=0;i<o.services.length;i++){var g=o.services[i];o._serviceTypes[g.type].interactivePan(this,g,a,b)}}}},_refresh:function(){for(var a=0;a<o.services.length;a++){var b=o.services[a];!x&&o._serviceTypes[b.type]!=null&&o._serviceTypes[b.type].refresh(this,b)}},_setCenterAndSize:function(a,b,g,z){if(r!=b)for(g=0;g<o.services.length;g++){var s=o.services[g];o._serviceTypes[s.type].interactiveScale(this,
s,a,b)}n=a;r=b;if(e.geo.proj){a=this._getBbox();a=e.geo.proj.toGeodetic([[a[0],a[1]],[a[2],a[3]]]);a=[a[0][0],a[0][1],a[1][0],a[1][1]];o.bbox=a;o[n]=e.geo.proj.toGeodetic([[n[0],n[1]]])[0]}else{o.bbox=this._getBbox();o[n]=n}o.zoom=this._getZoom();z&&this._refresh()},_toMap:function(a,b,g){var z=e.isArray(a[0]);z||(a=[a]);b=b||n;g=g||r;var s=d.width,C=d.height,D=s/2*g;g=C/2*g;var y=[b[0]-D,b[1]-g,b[0]+D,b[1]+g],A=e.geo._width(y)/s,F=e.geo._height(y)/C,S=[];e.each(a,function(aa){S[aa]=[y[0]+this[0]*
A,y[3]-this[1]*F]});return z?S:S[0]},_zoomTo:function(a,b){b=b<0?0:b;var g=this._getTiledPixelSize(b);if(isNaN(g)){g=e.geo._scaleBy(this._getBboxMax(),1/Math.pow(2,b));g=Math.max(e.geo._width(g)/d.width,e.geo._height(g)/d.height);this._setCenterAndSize(a,g,false,true)}else this._setCenterAndSize(a,g,false,true)},_eventTarget_dblclick:function(a){this._panFinalize();offset=e(a.currentTarget).offset();switch(o.mode){case "pan":this._zoomTo(this._toMap(v),this._getZoom()+1)}B=false},_eventTarget_touchstart:function(a){if(!(!N&&
a.which!=1)){if($){var b=e.now();O=b-Y<750?O?false:R:false;R=true;Y=b}a.preventDefault();this._panFinalize();b=e(a.currentTarget).offset();v=N?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-b.top]:[a.pageX-b.left,a.pageY-b.top];x=true;u=v;if(!B&&a.shiftKey){q=true;k.css("cursor",o.cursors.zoom)}else{B=true;switch(o.mode){case "pan":P=v;a.currentTarget.setCapture&&a.currentTarget.setCapture()}}return false}},_dragTarget_touchmove:function(a){var b=k.offset();
a=N?[a.originalEvent.changedTouches[0].pageX-b.left,a.originalEvent.changedTouches[0].pageY-b.top]:[a.pageX-b.left,a.pageY-b.top];if(!(a[0]==V[0]&&a[1]==V[1])){if($)O=R=false;if(x){v=a;Z=e.now()}switch(q?"zoom":o.mode){case "pan":x&&this._panMove()}V=a}},_dragTarget_touchstop:function(a){!x&&fa==7&&this._eventTarget_touchstart(a);var b=x,g=k.offset();g=N?[a.originalEvent.changedTouches[0].pageX-g.left,a.originalEvent.changedTouches[0].pageY-g.top]:[a.pageX-g.left,a.pageY-g.top];var z=q?"zoom":o.mode;
k.css("cursor",o.cursors[z]);q=x=w=false;document.releaseCapture&&document.releaseCapture();if(b){b=e.now();v=g;switch(z){case "pan":b-Z>500?this._panFinalize():this._panEnd()}if($&&O){O=R=false;k.trigger("dblclick",a)}}},_eventTarget_mousewheel:function(){}}}())})(jQuery);
